(this["webpackJsonpip-tracking"]=this["webpackJsonpip-tracking"]||[]).push([[0],{495:function(e,t,n){"use strict";n.r(t);var a=n(86),i=n.n(a),r=n(36);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(0),o=n.n(c),s=(n(376),n(15)),l=n(592),d=n(523),j=n(555),b=Object(d.a)((function(){return Object(j.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),u=function(){return b(),null},p=n(227);p.Chart.helpers.extend(p.Chart.elements.Rectangle.prototype,{draw:function(){var e,t,n,a,i,r,c,o,s=this._chart.ctx,l=this._view,d=l.borderWidth,j=this._chart.config.options.cornerRadius;if(j<0&&(j=0),"undefined"===typeof j&&(j=0),l.horizontal?(e=l.base,t=l.x,n=l.y-l.height/2,a=l.y+l.height/2,i=t>e?1:-1,r=1,c=l.borderSkipped||"left"):(e=l.x-l.width/2,t=l.x+l.width/2,n=l.y,i=1,r=(a=l.base)>n?1:-1,c=l.borderSkipped||"bottom"),d){var b=Math.min(Math.abs(e-t),Math.abs(n-a)),u=(d=d>b?b:d)/2,p=e+("left"!==c?u*i:0),x=t+("right"!==c?-u*i:0),h=n+("top"!==c?u*r:0),O=a+("bottom"!==c?-u*r:0);p!==x&&(n=h,a=O),h!==O&&(e=p,t=x)}s.beginPath(),s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=d;var m=[[e,a],[e,n],[t,n],[t,a]],f=["bottom","left","top","right"].indexOf(c,0);function g(e){return m[(f+e)%4]}-1===f&&(f=0);var v=g(0);s.moveTo(v[0],v[1]);for(var C=1;C<4;C+=1){v=g(C);var y=C+1;4===y&&(y=0);var S=m[2][0]-m[1][0],k=m[0][1]-m[1][1],T=m[1][0],I=m[1][1];if((o=j)>Math.abs(k)/2&&(o=Math.floor(Math.abs(k)/2)),o>Math.abs(S)/2&&(o=Math.floor(Math.abs(S)/2)),k<0){var w=T,N=T+S,P=I+k,D=I+k,A=T,B=T+S,L=I,z=I;s.moveTo(A+o,L),s.lineTo(B-o,z),s.quadraticCurveTo(B,z,B,z-o),s.lineTo(N,D+o),s.quadraticCurveTo(N,D,N-o,D),s.lineTo(w+o,P),s.quadraticCurveTo(w,P,w,P+o),s.lineTo(A,L-o),s.quadraticCurveTo(A,L,A+o,L)}else if(S<0){var M=T+S,W=T,E=I,R=I,F=T+S,Y=T,q=I+k,G=I+k;s.moveTo(F+o,q),s.lineTo(Y-o,G),s.quadraticCurveTo(Y,G,Y,G-o),s.lineTo(W,R+o),s.quadraticCurveTo(W,R,W-o,R),s.lineTo(M+o,E),s.quadraticCurveTo(M,E,M,E+o),s.lineTo(F,q-o),s.quadraticCurveTo(F,q,F+o,q)}else s.moveTo(T+o,I),s.lineTo(T+S-o,I),s.quadraticCurveTo(T+S,I,T+S,I+o),s.lineTo(T+S,I+k-o),s.quadraticCurveTo(T+S,I+k,T+S-o,I+k),s.lineTo(T+o,I+k),s.quadraticCurveTo(T,I+k,T,I+k-o),s.lineTo(T,I+o),s.quadraticCurveTo(T,I,T+o,I)}s.fill(),d&&s.stroke()}});var x=n(364),h=n(17),O=Object(x.a)({palette:{background:{default:"#F4F6F8",paper:h.a.common.white},primary:{contrastText:"#ffffff",light:"#4791db",main:"#5664d2",dark:"#115293"},secondary:{contrastText:"#ffffff",light:"#e33371",main:"#dc004e",dark:"#9a0036"},error:{contrastText:"#ffffff",light:"#e57373",main:"#f44336",dark:"#d32f2f"},warning:{contrastText:"#ffffff",light:"#ffb74d",main:"#ff9800",dark:"#f57c00"},info:{contrastText:"#ffffff",light:"#64b5f6",main:"#2196f3",dark:"#1976d2"},success:{contrastText:"#ffffff",light:"#81c784",main:"#4caf50",dark:"#388e3c"},text:{primary:"#172b4d",secondary:"#6b778c"}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),m=n(8),f=n(5),g=n(6),v=n(14),C=n(42),y=n(556),S=n(558),k=n(525),T=n(565),I=n(549),w=n(366),N=n(564),P=n(559),D=n(231),A=n(560),B=n(354),L=n.n(B),z=n(28),M=n.n(z),W=n(1),E=function(e){return Object(W.jsx)("img",Object(v.a)({alt:"Logo",src:"/static/logo.svg"},e))},R=Object(d.a)((function(e){return{navLink:{color:"white !important"}}})),F=function(e){e.onMobileNavOpen;var t=e.token,n=e.company,a=e.setCompany,i=Object(C.a)(e,["onMobileNavOpen","token","company","setCompany"]),o=R(),s=Object(c.useState)([]),l=Object(m.a)(s,1)[0],d=Object(c.useState)(null),j=Object(m.a)(d,2),b=j[0],u=j[1],p=n?n.index:0,x=null===t||void 0===t?void 0:t.userCompanyUser.map((function(e){return e.companyCode})),h=function(e){var i;n&&n.index===e?i=n:(function(e){M.a.get("api/Assignment/GetBranchTSSByUser?userId=".concat(t.id,"&cmpID=").concat(e.companyId),{headers:{Authorization:"Bearer ".concat(t.jwtToken)}}).then((function(t){console.log(JSON.stringify(t.data)),e.branches=t.data,a(e)})).catch((function(e){console.log(e)}))}(i=Object(v.a)({},t.userCompanyUser[e])),i.index=e)};Object(c.useEffect)((function(){t&&h(p)}),[t,n]);return Object(W.jsx)(y.a,Object(v.a)(Object(v.a)({elevation:0},i),{},{children:Object(W.jsxs)(S.a,{children:[Object(W.jsx)(r.b,{to:"/",children:Object(W.jsx)(E,{})}),Object(W.jsx)(k.a,{sx:{flexGrow:1}}),t?Object(W.jsxs)(c.Fragment,{children:[Object(W.jsx)(P.a,{component:"nav","aria-label":"Device settings",children:Object(W.jsx)(D.b,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu","aria-label":"when device is locked",onClick:function(e){u(e.currentTarget)},children:Object(W.jsx)(A.a,{primary:x[p]})})}),Object(W.jsx)(w.a,{id:"lock-menu",anchorEl:b,keepMounted:!0,open:Boolean(b),onClose:function(){u(null)},children:x.map((function(e,t){return Object(W.jsx)(N.a,{selected:t===p,onClick:function(e){return function(e,t){h(t),u(null)}(0,t)},children:e},e)}))}),Object(W.jsx)(T.a,{color:"inherit",children:Object(W.jsx)(I.a,{badgeContent:l.length,color:"primary",variant:"dot",children:Object(W.jsx)(r.b,{to:"/logout",className:o.navLink,children:Object(W.jsx)(L.a,{})})})})]}):Object(W.jsx)(c.Fragment,{})]})}))},Y=n(550),q=n(568),G=n(529),J=n(530),H=n(531),U=n(532),_=n(533),V=n(534),K=n(535),$=n(566),Q=n(567),X=n(355),Z=n.n(X),ee=n(356),te=n.n(ee),ne=Object(d.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)}}})),ae=function(e){var t=e.href,n=e.icon,a=e.title,i=e.children,l=Object(C.a)(e,["href","icon","title","children"]),d=Object(s.g)(),j=ne(),b=o.a.useState(!1),u=Object(m.a)(b,2),p=u[0],x=u[1],h=!!t&&!!Object(s.d)({path:t,end:!1},d.pathname);return Object(W.jsx)(c.Fragment,{children:i?Object(W.jsxs)(c.Fragment,{children:[Object(c.createElement)(D.b,Object(v.a)(Object(v.a)({disableGutters:!0,sx:{display:"flex",py:0}},l),{},{key:a}),Object(W.jsxs)($.a,{onClick:function(){x(!p)},sx:Object(v.a)(Object(v.a)({color:"text.secondary",fontWeight:"medium",justifyContent:"flex-start",letterSpacing:0,py:1.25,textTransform:"none",width:"100%"},h&&{color:"primary.main"}),{},{"& svg":{mr:1}}),children:[n&&Object(W.jsx)(n,{size:"20"}),Object(W.jsx)("span",{children:a}),p?Object(W.jsx)(Z.a,{}):Object(W.jsx)(te.a,{})]})),Object(W.jsx)(Q.a,{in:p,timeout:"auto",unmountOnExit:!0,children:Object(W.jsx)(P.a,{component:"div",disablePadding:!0,children:i.map((function(e){var t=e.href,n=e.icon,a=e.title;e.children,Object(C.a)(e,["href","icon","title","children"]);return Object(c.createElement)(D.b,Object(v.a)(Object(v.a)({className:j.nested,disableGutters:!0,sx:{display:"flex",py:0}},l),{},{key:a}),Object(W.jsxs)($.a,{component:r.c,sx:Object(v.a)(Object(v.a)({color:"text.secondary",fontWeight:"medium",justifyContent:"flex-start",letterSpacing:0,py:1.25,textTransform:"none",width:"100%"},h&&{color:"primary.main"}),{},{"& svg":{mr:1}}),to:t,children:[n&&Object(W.jsx)(n,{size:"20"}),Object(W.jsx)("span",{children:a})]}))}))})})]}):Object(c.createElement)(D.b,Object(v.a)(Object(v.a)({disableGutters:!0,sx:{display:"flex",py:0}},l),{},{key:a}),Object(W.jsxs)($.a,{component:r.c,sx:Object(v.a)(Object(v.a)({color:"text.secondary",fontWeight:"medium",justifyContent:"flex-start",letterSpacing:0,py:1.25,textTransform:"none",width:"100%"},h&&{color:"primary.main"}),{},{"& svg":{mr:1}}),to:t,children:[n&&Object(W.jsx)(n,{size:"20"}),Object(W.jsx)("span",{children:a})]}))})},ie=[{href:"/dashboard",icon:G.a,title:"Dashboard"},{icon:J.a,title:"Transaction",children:[{href:"/invoices",icon:H.a,title:"Invoice Inward"},{href:"/parcels",icon:U.a,title:"Parcel Inward"}]},{href:"/assignment",icon:_.a,title:"Assignment"},{icon:V.a,title:"Definition",children:[{href:"/branch",icon:H.a,title:"Branch"},{href:"/site",icon:U.a,title:"Site"},{href:"/transporter",icon:U.a,title:"Transporter"},{href:"/supplier",icon:U.a,title:"Supplier"}]},{href:"/admin",icon:K.a,title:"Admin"}],re=function(e){var t=e.onMobileClose,n=e.openMobile,a=e.token,i=(Object(C.a)(e,["onMobileClose","openMobile","token"]),Object(s.g)());Object(c.useEffect)((function(){n&&t&&t()}),[i.pathname]);var r=Object(W.jsxs)(k.a,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(W.jsx)(k.a,{sx:{p:2},children:Object(W.jsx)(P.a,{children:ie.map((function(e){return Object(W.jsx)(ae,{href:e.href,title:e.title,icon:e.icon,children:e.children},e.title)}))})}),Object(W.jsx)(k.a,{sx:{flexGrow:1}})]});return Object(W.jsx)(c.Fragment,{children:a?Object(W.jsxs)(c.Fragment,{children:[Object(W.jsx)(Y.a,{lgUp:!0,children:Object(W.jsx)(q.a,{anchor:"left",onClose:t,open:n,variant:"temporary",PaperProps:{sx:{width:256}},children:r})}),Object(W.jsx)(Y.a,{lgDown:!0,children:Object(W.jsx)(q.a,{anchor:"left",open:!0,variant:"persistent",PaperProps:{sx:{width:256,top:64,height:"calc(100% - 64px)"}},children:r})})]}):Object(W.jsx)(c.Fragment,{children:" "})})};re.defaultProps={onMobileClose:function(){},openMobile:!1};var ce=re,oe=Object(g.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),se=Object(g.a)("div")((function(e){var t=e.theme;return Object(f.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},t.breakpoints.up("lg"),{paddingLeft:256})})),le=Object(g.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),de=Object(g.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),je=function(e){var t=e.token,n=(e.setToken,e.company),a=e.setCompany,i=Object(s.h)(),r=Object(s.g)(),o=r.pathname;r.state;console.log("DashboardLayout ==> pathname: "+o+", token: "+JSON.stringify(t)),Object(c.useEffect)((function(){"/"===o&&i(t?"/dashboard":"/login")}));var l=Object(c.useState)(!1),d=Object(m.a)(l,2),j=d[0],b=d[1];return Object(W.jsxs)(oe,{children:[Object(W.jsx)(F,{token:t,onMobileNavOpen:function(){return b(!0)},company:n,setCompany:a}),Object(W.jsx)(ce,{onMobileClose:function(){return b(!1)},openMobile:j,token:t}),Object(W.jsx)(se,{children:Object(W.jsx)(le,{children:Object(W.jsx)(de,{children:Object(W.jsx)(s.b,{})})})})]})},be=n(357),ue=n(29),pe=n(569),xe=n(561),he=function(e){var t=e.token,n=e.setToken,a=Object(s.g)().state,i=t;if(!i&&a){var r=a.token;n&&n(r),Object(be.a)("token"),i=r}return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ue.a,{children:Object(W.jsx)("title",{children:"Dashboard"})}),Object(W.jsx)(k.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(W.jsx)(pe.a,{maxWidth:!1,children:Object(W.jsx)(xe.a,{color:"textPrimary",variant:"h2",children:"Welcome to IP Tracking"})})})]})},Oe=n(141),me=n(365),fe=n(570),ge=n(577),ve=function(e){var t=e.setToken,n=Object(s.g)().pathname;return console.log("Login ==> pathname: "+n),Object(c.useEffect)((function(){console.log("Loggin.useEffect")}),[]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ue.a,{children:Object(W.jsx)("title",{children:"Login | IP Tracking"})}),Object(W.jsx)(k.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(W.jsx)(pe.a,{maxWidth:"sm",children:Object(W.jsx)(me.a,{initialValues:{userName:"",password:"",clientCode:""},validationSchema:Oe.a().shape({userName:Oe.b().max(32,"Must be 32 characters or less").required("User Name is required"),clientCode:Oe.b().max(64,"Must be 64 characters or less").required("Client Code is required"),password:Oe.b().max(128,"Must be 128 characters or less").required("Password is required")}),onSubmit:function(e,n){var a=n.setSubmitting,i=n.setFieldError,r={ClientCode:e.clientCode,Username:e.userName,Password:e.password};M.a.post("api/Account/Authenticate",r).then((function(e){var n=e.data;console.log("API_RESPONSE: "+JSON.stringify(n)),a(!1),t&&(console.log("setToken in Login is present"),t(n))})).catch((function(e){var t,n;a(!1),console.log("error",e);var r=null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message;console.log("errorMessage: ",r),i("general",r)}))},children:function(e){var t=e.errors,n=e.handleBlur,a=e.handleChange,i=e.handleSubmit,r=e.handleReset,c=e.isSubmitting,s=e.touched,l=e.values;return Object(W.jsxs)("form",{onSubmit:i,onReset:r,children:[Object(W.jsx)(k.a,{sx:{mb:3},children:Object(W.jsx)(xe.a,{color:"textPrimary",variant:"h2",children:"Sign in"})}),Object(W.jsx)(fe.a,{error:Boolean(s.userName&&t.userName),fullWidth:!0,helperText:s.userName&&t.userName,label:"User Name",margin:"normal",name:"userName",onBlur:n,onChange:a,type:"text",value:l.userName,variant:"outlined"}),Object(W.jsx)(fe.a,{error:Boolean(s.clientCode&&t.clientCode),fullWidth:!0,helperText:s.clientCode&&t.clientCode,label:"Client Code",margin:"normal",name:"clientCode",onBlur:n,onChange:a,type:"text",value:l.clientCode,variant:"outlined"}),Object(W.jsx)(fe.a,{error:Boolean(s.password&&t.password),fullWidth:!0,helperText:s.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:n,onChange:a,type:"password",value:l.password,variant:"outlined"}),c?Object(W.jsx)(k.a,{sx:{py:2,display:"flex",justifyContent:"center"},children:Object(W.jsx)(ge.a,{})}):Object(W.jsxs)(o.a.Fragment,{children:[Object(W.jsx)(k.a,{sx:{pt:2},children:Object(W.jsx)(xe.a,{color:"red",variant:"h6",children:t.general})}),Object(W.jsxs)(k.a,{sx:{py:2},children:[Object(W.jsx)($.a,{color:"primary",disabled:c,size:"large",type:"submit",variant:"contained",sx:{mr:2},children:"Sign in now"}),Object(W.jsx)($.a,{color:"secondary",size:"large",variant:"contained",type:"reset",children:"Reset"})]})]})]})}})})})]})},Ce=function(){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ue.a,{children:Object(W.jsx)("title",{children:"404 | Material Kit"})}),Object(W.jsx)(k.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(W.jsxs)(pe.a,{maxWidth:"md",children:[Object(W.jsx)(xe.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(W.jsx)(xe.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(W.jsx)(k.a,{sx:{textAlign:"center"},children:Object(W.jsx)("img",{alt:"Under development",src:"/static/images/undraw_page_not_found_su7k.svg",style:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}})})]})})]})},ye=n(553),Se=n(583),ke=n(584),Te=n(585);var Ie=n(574),we=n(539),Ne=n(540),Pe=n(578),De=n(545);var Ae=n(575),Be=n(544),Le=n(576);var ze=n(548);var Me=n(31),We=n(542),Ee=n(363);var Re=Object(d.a)((function(e){return{root:{margin:e.spacing(.5)},label:{textTransform:"none"}}}));var Fe=Object(d.a)((function(e){return{root:{minWidth:0,margin:e.spacing(.5)},secondary:{backgroundColor:e.palette.secondary.light,"& .MuiButton-label":{color:e.palette.secondary.main}},primary:{backgroundColor:e.palette.primary.light,"& .MuiButton-label":{color:e.palette.primary.main}}}}));var Ye={Input:function(e){var t=e.name,n=e.label,a=e.value,i=e.error,r=void 0===i?null:i,c=e.onChange,o=Object(C.a)(e,["name","label","value","error","onChange"]);return Object(W.jsx)(fe.a,Object(v.a)(Object(v.a)({variant:"outlined",label:n,name:t,value:a,onChange:c},o),r&&{error:!0,helperText:r}))},RadioGroup:function(e){var t=e.name,n=e.label,a=e.value,i=e.onChange,r=e.items;return Object(W.jsxs)(Ie.a,{children:[Object(W.jsx)(we.a,{children:n}),Object(W.jsx)(Ne.a,{row:!0,name:t,value:a,onChange:i,children:r.map((function(e){return Object(W.jsx)(Pe.a,{value:e.id,control:Object(W.jsx)(De.a,{}),label:e.title},e.id)}))})]})},Select:function(e){var t=e.name,n=e.label,a=e.value,i=e.error,r=void 0===i?null:i,c=e.onChange,o=e.options,s=e.size;return Object(W.jsxs)(Ie.a,Object(v.a)(Object(v.a)({variant:"outlined"},r&&{error:!0}),{},{children:[Object(W.jsx)(Ae.a,{children:n}),Object(W.jsxs)(Be.a,{label:n,name:t,value:a,onChange:c,size:s,children:[Object(W.jsx)(N.a,{value:"",children:"None"}),o.map((function(e){return Object(W.jsx)(N.a,{value:e.id,children:e.title},e.id)}))]}),r&&Object(W.jsx)(Le.a,{children:r})]}))},Checkbox:function(e){var t=e.name,n=e.label,a=e.value,i=e.onChange;return Object(W.jsx)(Ie.a,{children:Object(W.jsx)(Pe.a,{control:Object(W.jsx)(ze.a,{name:t,color:"primary",checked:a,onChange:function(e){return i(function(e,t){return{target:{name:e,value:t}}}(t,e.target.checked))}}),label:n})})},DatePicker:function(e){var t=e.name,n=e.label,a=e.value,i=e.onChange,r=e.size;return Object(W.jsx)(Me.a,{utils:Ee.a,children:Object(W.jsx)(We.a,{variant:"inline",inputVariant:"outlined",label:n,format:"MMM/dd/yyyy",name:t,value:a,onChange:function(e){return i(function(e,t){return{target:{name:e,value:t}}}(t,e))},size:r})})},Button:function(e){var t=e.text,n=e.size,a=(e.color,e.variant),i=e.onClick,r=Object(C.a)(e,["text","size","color","variant","onClick"]),c=Re();return Object(W.jsx)($.a,Object(v.a)(Object(v.a)({variant:a||"contained",size:n||"large",onClick:i},r),{},{classes:{root:c.root,label:c.label},children:t}))},ActionButton:function(e){var t=e.color,n=e.children,a=e.onClick,i=Fe();return Object(W.jsx)($.a,{className:"".concat(i.root," ").concat(i[t]),onClick:a,children:n})}};var qe=Object(d.a)((function(e){return{root:{"& .MuiFormControl-root":{width:"80%",margin:e.spacing(1)}}}}));function Ge(e){var t=qe(),n=(e.children,Object(C.a)(e,["children"]));return Object(W.jsx)("form",Object(v.a)(Object(v.a)({className:t.root,autoComplete:"off"},n),{},{children:e.children}))}var Je=Object(d.a)({rightRoot:{padding:"1px",marginBottom:"5px"},leftRoot:{padding:"1px",marginBottom:"5px",marginRight:"5px"},root:{padding:"1px",marginBottom:"5px"}});function He(e){var t=Je(),n=e.addOrEdit,a=e.recordForEdit,i=e.branchesSelectOptions,r=i.branchParamsOptions,o=i.branchesOptions,s=i.initialBranchId,l=i.initialBranchParamOption,d=i.initialBranchCommunicationId,j=i.initialSupplierId,b=i.initialSupplierCommunicationId,u=i.initialTransporterId,p=i.initialTransporterCommunicationId;console.log("branchParamsOptions: "+JSON.stringify(r)),console.log("branchesOptions: "+JSON.stringify(o));var x=Object(c.useState)([{id:"1",title:"Status 1"},{id:"2",title:"Status 2"},{id:"3",title:"Status 3"},{id:"4",title:"Status 4"},{id:"5",title:"Status 5"},{id:"6",title:"Status 6"},{id:"7",title:"Status 7"},{id:"8",title:"Status 8"},{id:"9",title:"Status 9"},{id:"10",title:"Status 10"}]),h=Object(m.a)(x,2),O=h[0],g=(h[1],Object(c.useState)(o)),C=Object(m.a)(g,2),y=C[0],S=(C[1],Object(c.useState)(l?l.communications:[])),T=Object(m.a)(S,2),I=T[0],w=T[1],N=Object(c.useState)(l?l.suppliers:[]),P=Object(m.a)(N,2),D=P[0],A=P[1],B=Object(c.useState)(l&&j?l.supplierCommunications[j]:[]),L=Object(m.a)(B,2),z=L[0],M=L[1],E=Object(c.useState)(l?l.transporters:[]),R=Object(m.a)(E,2),F=R[0],Y=R[1],q=Object(c.useState)(l&&u?l.transporterCommunications[u]:[]),G=Object(m.a)(q,2),J=G[0],H=G[1],U=Object(c.useState)(s),_=Object(m.a)(U,2),V=_[0],K=(_[1],Object(c.useState)(d)),$=Object(m.a)(K,2),Q=$[0],X=($[1],Object(c.useState)(j)),Z=Object(m.a)(X,2),ee=Z[0],te=(Z[1],Object(c.useState)(b)),ne=Object(m.a)(te,2),ae=ne[0],ie=(ne[1],Object(c.useState)(u)),re=Object(m.a)(ie,2),ce=re[0],oe=(re[1],Object(c.useState)(p)),se=Object(m.a)(oe,2),le=(se[0],se[1],{branchId:V,branchCommunicationId:Q,invoiceReceivedDate:new Date,invoiceDate:new Date,invoiceNumber:"",invoiceStatusId:1,lrdate:new Date,lrnumber:"",numberOfParcels:1,supplierId:ee,supplierCommunicationId:ae,transporterId:ce,transporterCommunicationId:p}),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=Object(v.a)({},pe);if(xe(Object(v.a)({},t)),e==be)return Object.values(t).every((function(e){return""==e}))},je=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,a=Object(c.useState)(e),i=Object(m.a)(a,2),r=i[0],o=i[1],s=Object(c.useState)({}),l=Object(m.a)(s,2),d=l[0],j=l[1],b=function(e){var a=e.target,i=a.name,c=a.value;o(Object(v.a)(Object(v.a)({},r),{},Object(f.a)({},i,c))),t&&n(Object(f.a)({},i,c))},u=function(){o(e),j({})};return{values:r,setValues:o,errors:d,setErrors:j,handleInputChange:b,resetForm:u}}(le,!0,de),be=je.values,ue=je.setValues,pe=je.errors,xe=je.setErrors,he=je.handleInputChange,Oe=je.resetForm;Object(c.useEffect)((function(){null!=a&&ue(Object(v.a)({},a))}),[a]);var me=function(){return Object(W.jsx)(ye.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(W.jsxs)(Se.a,{className:t.root,children:[Object(W.jsx)(ke.a,{title:"Branch Details"}),Object(W.jsx)(Te.a,{sx:{padding:"0px !important"},children:Object(W.jsxs)(ye.a,{container:!0,spacing:1,children:[Object(W.jsx)(ye.a,{item:!0,lg:6,md:6,xl:6,xs:6,children:Object(W.jsx)(Ye.Select,{name:"branchId",label:"Branch Code",value:be.branchId,options:y,onChange:function(e){!function(e){if(be.branchCommunicationId="",be.supplierId="",be.supplierCommunicationId="",be.transporterId="",be.transporterCommunicationId="",be.branchId=e,e){var t=r[e];w(t.communications),A(t.suppliers),Y(t.transporters),M([]),H([])}else w([]),A([]),Y([]),M([]),H([])}(e.target.value),he(e)},error:pe.branchId,size:"small"})}),Object(W.jsx)(ye.a,{item:!0,lg:6,md:6,xl:6,xs:6,children:Object(W.jsx)(Ye.Select,{name:"branchCommunicationId",label:"Branch Communication Code",value:be.branchCommunicationId,options:I,onChange:function(e){var t;t=e.target.value,be.branchCommunicationId=t,he(e)},error:pe.branchCommunicationId,size:"small"})})]})})]})})};return Object(W.jsxs)(Ge,{onSubmit:function(e){e.preventDefault(),de()&&n(be,Oe)},children:[Object(W.jsxs)(ye.a,{container:!0,children:[function(){if(y||I)return me()}(),Object(W.jsx)(ye.a,{item:!0,lg:8,md:8,xl:8,xs:8,children:Object(W.jsxs)(Se.a,{className:t.leftRoot,children:[Object(W.jsx)(ke.a,{title:"Invoice Details"}),Object(W.jsx)(Te.a,{sx:{padding:"0px !important"},children:Object(W.jsxs)(ye.a,{container:!0,spacing:1,children:[Object(W.jsx)(ye.a,{item:!0,lg:6,md:6,xl:6,xs:6,children:Object(W.jsx)(Ye.DatePicker,{label:"Invoice Received Date",name:"invoiceReceivedDate",value:be.invoiceReceivedDate,onChange:he,error:pe.invoiceReceivedDate,size:"small"})}),Object(W.jsx)(ye.a,{item:!0,lg:6,md:6,xl:6,xs:6,children:Object(W.jsx)(Ye.DatePicker,{label:"Invoice Date",name:"invoiceDate",value:be.invoiceDate,onChange:he,error:pe.invoiceDate,size:"small"})}),Object(W.jsx)(ye.a,{item:!0,lg:6,md:6,xl:6,xs:6,children:Object(W.jsx)(Ye.Input,{label:"Invoice Number",name:"invoiceNumber",value:be.invoiceNumber,onChange:he,error:pe.invoiceNumber,size:"small"})}),Object(W.jsx)(ye.a,{item:!0,lg:6,md:6,xl:6,xs:6,children:Object(W.jsx)(Ye.Select,{label:"Invoice Status",name:"invoiceStatusId",value:be.invoiceStatusId,options:O,onChange:he,error:pe.invoiceStatusId,size:"small"})})]})})]})}),Object(W.jsx)(ye.a,{item:!0,lg:4,md:4,xl:4,xs:4,children:Object(W.jsxs)(Se.a,{className:t.rightRoot,children:[Object(W.jsx)(ke.a,{title:"Supplier Details"}),Object(W.jsx)(Te.a,{sx:{padding:"0px !important"},children:Object(W.jsxs)(ye.a,{container:!0,spacing:1,children:[Object(W.jsx)(ye.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(W.jsx)(Ye.Select,{label:"Supplier Code",name:"supplierId",value:be.supplierId,options:D,onChange:function(e){!function(e){if(be.supplierCommunicationId="",be.supplierId=e,e){var t=r[be.branchId];M(t.supplierCommunications[e])}else M([])}(e.target.value),he(e)},error:pe.supplierId,size:"small"})}),Object(W.jsx)(ye.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(W.jsx)(Ye.Select,{label:"Supplier Communication",name:"supplierCommunicationId",value:be.supplierCommunicationId,options:z,onChange:function(e){var t;t=e.target.value,be.supplierCommunicationId=t,he(e)},error:pe.supplierCommunicationId,size:"small"})})]})})]})}),Object(W.jsx)(ye.a,{item:!0,lg:8,md:8,xl:8,xs:8,children:Object(W.jsxs)(Se.a,{className:t.leftRoot,children:[Object(W.jsx)(ke.a,{title:"LR Details"}),Object(W.jsx)(Te.a,{sx:{padding:"0px !important"},children:Object(W.jsxs)(ye.a,{container:!0,spacing:1,children:[Object(W.jsx)(ye.a,{item:!0,lg:6,md:6,xl:6,xs:6,children:Object(W.jsx)(Ye.DatePicker,{label:"LR Date",name:"lrdate",value:be.lrdate,onChange:he,error:pe.lrdate,size:"small"})}),Object(W.jsx)(ye.a,{item:!0,lg:6,md:6,xl:6,xs:6,children:Object(W.jsx)(Ye.Input,{label:"Number Of Parcels",name:"numberOfParcels",value:be.numberOfParcels,onChange:he,error:pe.numberOfParcels,size:"small"})}),Object(W.jsx)(ye.a,{item:!0,lg:6,md:6,xl:6,xs:6,children:Object(W.jsx)(Ye.Input,{label:"LR Number",name:"lrnumber",value:be.lrnumber,onChange:he,error:pe.lrnumber,size:"small"})})]})})]})}),Object(W.jsx)(ye.a,{item:!0,lg:4,md:4,xl:4,xs:4,children:Object(W.jsxs)(Se.a,{className:t.rightRoot,children:[Object(W.jsx)(ke.a,{title:"Transporter Details"}),Object(W.jsx)(Te.a,{sx:{padding:"0px !important"},children:Object(W.jsxs)(ye.a,{container:!0,spacing:1,children:[Object(W.jsx)(ye.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(W.jsx)(Ye.Select,{label:"Transporter Code",name:"transporterId",value:be.transporterId,options:F,onChange:function(e){!function(e){if(be.transporterCommunicationId="",be.transporterId=e,e){var t=r[be.branchId];H(t.transporterCommunications[e])}else H([])}(e.target.value),he(e)},error:pe.transporterId,size:"small"})}),Object(W.jsx)(ye.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(W.jsx)(Ye.Select,{label:"Transporter Communication",name:"transporterCommunicationId",value:be.transporterCommunicationId,options:J,onChange:function(e){var t;t=e.target.value,be.transporterCommunicationId=t,he(e)},error:pe.transporterCommunicationId,size:"small"})})]})})]})})]}),Object(W.jsxs)(k.a,{sx:{display:"flex",justifyContent:"flex-end",marginTop:"4px"},children:[Object(W.jsx)(Ye.Button,{type:"submit",text:"Submit",sx:{mr:2}}),Object(W.jsx)(Ye.Button,{text:"Reset",color:"default",onClick:Oe})]})]})}var Ue=n(557),_e=n(582),Ve=n(591),Ke=n(588),$e=n(589),Qe=n(586),Xe=n(587),Ze=n(554),et=n(546),tt=Object(d.a)((function(e){return{}}));function nt(e,t,n){var a=tt(),i=[5,10,25],r=Object(c.useState)(0),o=Object(m.a)(r,2),s=o[0],l=o[1],d=Object(c.useState)(i[s]),j=Object(m.a)(d,2),b=j[0],u=j[1],p=Object(c.useState)(),x=Object(m.a)(p,2),h=x[0],O=x[1],f=Object(c.useState)(),g=Object(m.a)(f,2),v=g[0],C=g[1],y=function(e,t){l(t)},S=function(e){u(parseInt(e.target.value,10)),l(0)};function k(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}return{TblContainer:function(e){return Object(W.jsx)(Qe.a,{className:a.table,align:"center",children:e.children})},TblHead:function(e){return Object(W.jsx)(Xe.a,{children:Object(W.jsx)(Ke.a,{children:t.map((function(e){return Object(W.jsx)($e.a,{sortDirection:v===e.id&&h,children:e.disableSorting?e.label:Object(W.jsx)(Ze.a,{active:v===e.id,direction:v===e.id?h:"asc",onClick:function(){var t;t=e.id,O(v===t&&"asc"===h?"desc":"asc"),C(t)},children:e.label})},e.id)}))})})},TblPagination:function(){return Object(W.jsx)(et.a,{component:"div",page:s,rowsPerPageOptions:i,rowsPerPage:b,count:e.length,onPageChange:y,onRowsPerPageChange:S})},recordsAfterPagingAndSorting:function(){return function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}(n.fn(e),function(e,t){return"desc"===e?function(e,n){return k(e,n,t)}:function(e,n){return-k(e,n,t)}}(h,v)).slice(s*b,(s+1)*b)}}}var at=n(541),it=n(62),rt=n.n(it),ct=n(579),ot=n(590),st=n(580),lt=n(46),dt=n.n(lt),jt=Object(d.a)((function(e){return{dialogWrapper:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)},dialogTitle:{padding:"7px 7px !important"}}}));function bt(e){var t=e.title,n=e.children,a=e.openPopup,i=e.setOpenPopup,r=jt();return Object(W.jsxs)(ct.a,{open:a,maxWidth:"md",classes:{paper:r.dialogWrapper},children:[Object(W.jsx)(ot.a,{className:r.dialogTitle,children:Object(W.jsxs)("div",{style:{display:"flex"},children:[Object(W.jsx)(xe.a,{variant:"h3",component:"div",style:{flexGrow:1},children:t}),Object(W.jsx)(Ye.ActionButton,{color:"secondary",onClick:function(){i(!1)},children:Object(W.jsx)(dt.a,{})})]})}),Object(W.jsx)(st.a,{dividers:!0,children:n})]})}var ut=n(63),pt=n.n(ut),xt=n(61),ht=n.n(xt),Ot=n(44),mt=n.n(Ot),ft=Object(d.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"85%"}}})),gt=[{id:"invoiceNumber",label:"Invoice Number"},{id:"invoiceReceivedDate",label:"Invoice Recieved Date"},{id:"lrnumber",label:"LR Number"},{id:"lrdate",label:"LR Date"},{id:"numberOfParcels",label:"Parcel Count"},{id:"actions",label:"Actions",disableSorting:!0}];function vt(e){var t=ft(),n=e.token,a=e.setToken,i=e.company,r=e.setCompany,s=Object(c.useState)(null),l=Object(m.a)(s,2),d=l[0],j=l[1],b=Object(c.useState)("add"),u=Object(m.a)(b,2),p=u[0],x=u[1],h=Object(c.useState)([]),O=Object(m.a)(h,2),f=O[0],g=O[1],v=Object(c.useState)(!0),C=Object(m.a)(v,2),y=(C[0],C[1]),T=Object(c.useState)({fn:function(e){return e}}),I=Object(m.a)(T,2),w=I[0],N=I[1],P=Object(c.useState)(!1),D=Object(m.a)(P,2),A=D[0],B=D[1],L=function(e){for(var t={},n=[],a=0;a<e.branches.length;a++){var i=e.branches[a];if(i){var r=i.branchId,c={id:""+r,title:i.branchCode};n.push(c);var o={};o.communications=Ct(i);var s=yt(i),l=s.sitesOptions,d=s.sitesCommunicationOptions;o.sites=l,o.siteCommunications=d;var j=St(i),b=j.suppliersOptions,u=j.suppliersCommunicationOptions;o.suppliers=b,o.supplierCommunications=u;var p=kt(i),x=p.transportersOptions,h=p.transportersCommunicationOptions;o.transporters=x,o.transporterCommunications=h,t[r]=o}}var O,m="",f="";if(1===n.length){var g=(O=t[m=n[0].id]).communications;1===g.length&&(f=g[0].id)}return{branchParamsOptions:t,branchesOptions:n,initialBranchId:m,initialBranchParamOption:O,initialBranchCommunicationId:f,initialSupplierId:"",initialSupplierCommunicationId:"",initialTransporterId:"",initialTransporterCommunicationId:""}}(i),z=nt(f,gt,w),E=z.TblContainer,R=z.TblHead,F=z.TblPagination,Y=z.recordsAfterPagingAndSorting,q=function(e,t){x(e),j(t),B(!0)};return o.a.useEffect((function(){y(!0),M.a.get("api/Transaction/GetAllInvoicesByCompany/?cmpID=".concat(i.companyId),{headers:{Authorization:"Bearer ".concat(n.jwtToken)}}).then((function(e){y(!1),console.log(JSON.stringify(e.data)),g(e.data)})).catch((function(e){console.log(e)}))}),[i]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ue.a,{children:Object(W.jsx)("title",{children:"Invoice Inward"})}),Object(W.jsx)(k.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(W.jsx)(pe.a,{maxWidth:!1,children:Object(W.jsx)(ye.a,{container:!0,spacing:3,children:Object(W.jsx)(ye.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(W.jsxs)(Se.a,{children:[Object(W.jsx)(ke.a,{title:""}),Object(W.jsxs)(ht.a,{children:[Object(W.jsxs)(Ue.a,{className:t.pageContent,children:[Object(W.jsxs)(S.a,{className:t.seachToolbar,children:[Object(W.jsx)(k.a,{display:"flex",flexGrow:1,children:Object(W.jsx)(Ye.Input,{label:"Search",className:t.searchInput,InputProps:{startAdornment:Object(W.jsx)(_e.a,{position:"start",children:Object(W.jsx)(at.a,{})})},onChange:function(e){var t=e.target;N({fn:function(e){return""!=t.value&&t.value?e.filter((function(e){return e.invoiceNumber.toLowerCase().includes(t.value.toLowerCase())||e.lrnumber.toLowerCase().includes(t.value.toLowerCase())})):e}})}})}),Object(W.jsx)(Ye.Button,{text:"",variant:"outlined",startIcon:Object(W.jsx)(rt.a,{}),onClick:function(){q("add",null)}})]}),Object(W.jsxs)(E,{children:[Object(W.jsx)(R,{}),Object(W.jsx)(Ve.a,{children:Y().map((function(e){return Object(W.jsxs)(Ke.a,{children:[Object(W.jsx)($e.a,{children:e.invoiceNumber}),Object(W.jsx)($e.a,{children:mt()(e.invoiceReceivedDate).format("DD/MM/YYYY")}),Object(W.jsx)($e.a,{children:e.lrnumber}),Object(W.jsx)($e.a,{children:mt()(e.lrdate).format("DD/MM/YYYY")}),Object(W.jsx)($e.a,{children:e.numberOfParcels}),Object(W.jsxs)($e.a,{children:[Object(W.jsx)(Ye.ActionButton,{color:"primary",onClick:function(){q("edit",e)},children:Object(W.jsx)(pt.a,{fontSize:"small"})}),Object(W.jsx)(Ye.ActionButton,{color:"secondary",children:Object(W.jsx)(dt.a,{fontSize:"small"})})]})]},e.id)}))})]}),Object(W.jsx)(F,{})]}),Object(W.jsx)(bt,{title:"edit"===p?"Edit Invoice":"Add Invoice",openPopup:A,setOpenPopup:B,children:Object(W.jsx)(He,{recordForEdit:d,addOrEdit:function(e,t){},token:n,setToken:a,company:i,setCompany:r,branchesSelectOptions:L})})]})]})})})})})]})}function Ct(e){var t=[],n=e.branchCommunication;if(!n)return t;for(var a=0;a<n.length;a++){var i,r=n[a],c=null===(i=r.communication)||void 0===i?void 0:i.address,o=(null===c||void 0===c?void 0:c.addressLine1)?(null===c||void 0===c?void 0:c.addressLine1)+", "+(null===c||void 0===c?void 0:c.addressLine2):null===c||void 0===c?void 0:c.addressLine2;t.push({id:""+r.id,title:o})}return t}function yt(e){var t=[],n={},a=e.branchSite;if(!a)return t;for(var i=0;i<a.length;i++){var r,c=null===(r=a[i])||void 0===r?void 0:r.site;if(c){t.push({id:""+c.id,title:c.code});var o=[],s=c.siteCommunication;if(s)for(var l=0;l<s.length;l++){var d=s[l];if(d){var j=d.communication.address,b=(null===j||void 0===j?void 0:j.addressLine1)?(null===j||void 0===j?void 0:j.addressLine1)+", "+(null===j||void 0===j?void 0:j.addressLine2):null===j||void 0===j?void 0:j.addressLine2;o.push({id:""+d.id,title:b})}}n[c.id]=o}}return{sitesOptions:t,sitesCommunicationOptions:n}}function St(e){var t=[],n={},a=e.branchSupplier;if(!a)return t;for(var i=0;i<a.length;i++){var r,c=null===(r=a[i])||void 0===r?void 0:r.supplier;if(c){t.push({id:""+c.id,title:c.code});var o=[],s=c.supplierCommunication;if(s)for(var l=0;l<s.length;l++){var d=s[l];if(d){var j=d.communication.address,b=(null===j||void 0===j?void 0:j.addressLine1)?(null===j||void 0===j?void 0:j.addressLine1)+", "+(null===j||void 0===j?void 0:j.addressLine2):null===j||void 0===j?void 0:j.addressLine2;o.push({id:""+d.id,title:b})}}n[c.id]=o}}return{suppliersOptions:t,suppliersCommunicationOptions:n}}function kt(e){var t=[],n={},a=e.branchTransporter;if(!a)return t;for(var i=0;i<a.length;i++){var r,c=null===(r=a[i])||void 0===r?void 0:r.transporter;if(c){t.push({id:""+c.id,title:c.code});var o=[],s=c.transporterCommunication;if(s)for(var l=0;l<s.length;l++){var d=s[l];if(d){var j=d.communication.address,b=(null===j||void 0===j?void 0:j.addressLine1)?(null===j||void 0===j?void 0:j.addressLine1)+", "+(null===j||void 0===j?void 0:j.addressLine2):null===j||void 0===j?void 0:j.addressLine2;o.push({id:""+d.id,title:b})}}n[c.id]=o}}return{transportersOptions:t,transportersCommunicationOptions:n}}var Tt=Object(d.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"85%"}}})),It=[{id:"branchCode",label:"Branch code"},{id:"branchName",label:"Branch Name"},{id:"displayName",label:"Display Name"},{id:"isActive",label:"Active"},{id:"creationTime",label:"Created On"}];function wt(e){var t=Tt(),n=e.token,a=(e.setToken,e.company),i=(e.setCompany,Object(c.useState)(null)),r=Object(m.a)(i,2),s=(r[0],r[1]),l=Object(c.useState)("add"),d=Object(m.a)(l,2),j=d[0],b=d[1],u=Object(c.useState)([]),p=Object(m.a)(u,2),x=p[0],h=p[1],O=Object(c.useState)(!0),f=Object(m.a)(O,2),g=(f[0],f[1]),v=Object(c.useState)({fn:function(e){return e}}),C=Object(m.a)(v,2),y=C[0],T=C[1],I=Object(c.useState)(!1),w=Object(m.a)(I,2),N=w[0],P=w[1],D=nt(x,It,y),A=D.TblContainer,B=D.TblHead,L=D.TblPagination,z=D.recordsAfterPagingAndSorting,E=function(e,t){b(e),s(t),P(!0)};return o.a.useEffect((function(){g(!0),M.a.get("api/Definition/GetAllBranchesByCompany/?cmpID=".concat(a.companyId),{headers:{Authorization:"Bearer ".concat(n.jwtToken)}}).then((function(e){g(!1),console.log(JSON.stringify(e.data)),h(e.data)})).catch((function(e){console.log(e)}))}),[a]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ue.a,{children:Object(W.jsx)("title",{children:"Branch"})}),Object(W.jsx)(k.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(W.jsx)(pe.a,{maxWidth:!1,children:Object(W.jsx)(ye.a,{container:!0,spacing:3,children:Object(W.jsx)(ye.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(W.jsxs)(Se.a,{children:[Object(W.jsx)(ke.a,{title:""}),Object(W.jsxs)(ht.a,{children:[Object(W.jsxs)(Ue.a,{className:t.pageContent,children:[Object(W.jsxs)(S.a,{className:t.seachToolbar,children:[Object(W.jsx)(k.a,{display:"flex",flexGrow:1,children:Object(W.jsx)(Ye.Input,{label:"Search",className:t.searchInput,InputProps:{startAdornment:Object(W.jsx)(_e.a,{position:"start",children:Object(W.jsx)(at.a,{})})},onChange:function(e){var t=e.target;T({fn:function(e){return""!=t.value&&t.value?e.filter((function(e){return e.branchCode.toLowerCase().includes(t.value.toLowerCase())||e.branchName.toLowerCase().includes(t.value.toLowerCase())})):e}})}})}),Object(W.jsx)(Ye.Button,{text:"",variant:"outlined",startIcon:Object(W.jsx)(rt.a,{}),onClick:function(){E("add",null)}})]}),Object(W.jsxs)(A,{children:[Object(W.jsx)(B,{}),Object(W.jsx)(Ve.a,{children:z().map((function(e){return Object(W.jsxs)(Ke.a,{children:[Object(W.jsx)($e.a,{children:e.branchCode}),Object(W.jsx)($e.a,{children:e.branchName}),Object(W.jsx)($e.a,{children:e.displayName}),Object(W.jsx)($e.a,{children:e.isActive.toString()}),Object(W.jsx)($e.a,{children:mt()(e.creationTime).format("DD/MM/YYYY")}),Object(W.jsxs)($e.a,{children:[Object(W.jsx)(Ye.ActionButton,{color:"primary",onClick:function(){E("edit",e)},children:Object(W.jsx)(pt.a,{fontSize:"small"})}),Object(W.jsx)(Ye.ActionButton,{color:"secondary",children:Object(W.jsx)(dt.a,{fontSize:"small"})})]})]},e.id)}))})]}),Object(W.jsx)(L,{})]}),Object(W.jsx)(bt,{title:"edit"===j?"Edit Branch":"Add Branch",openPopup:N,setOpenPopup:P})]})]})})})})})]})}var Nt=Object(d.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"85%"}}})),Pt=[{id:"siteCode",label:"Site code"},{id:"siteName",label:"Site Name"},{id:"displayName",label:"Display Name"},{id:"isActive",label:"Active"},{id:"creationTime",label:"Created On"}];function Dt(e){var t=Nt(),n=e.token,a=(e.setToken,e.company),i=(e.setCompany,Object(c.useState)(null)),r=Object(m.a)(i,2),s=(r[0],r[1]),l=Object(c.useState)("add"),d=Object(m.a)(l,2),j=d[0],b=d[1],u=Object(c.useState)([]),p=Object(m.a)(u,2),x=p[0],h=p[1],O=Object(c.useState)(!0),f=Object(m.a)(O,2),g=(f[0],f[1]),v=Object(c.useState)({fn:function(e){return e}}),C=Object(m.a)(v,2),y=C[0],T=C[1],I=Object(c.useState)(!1),w=Object(m.a)(I,2),N=w[0],P=w[1],D=nt(x,Pt,y),A=D.TblContainer,B=D.TblHead,L=D.TblPagination,z=D.recordsAfterPagingAndSorting,E=function(e,t){b(e),s(t),P(!0)};return o.a.useEffect((function(){g(!0),M.a.get("api/Definition/GetAllSitesByCompany/?cmpID=".concat(a.companyId),{headers:{Authorization:"Bearer ".concat(n.jwtToken)}}).then((function(e){g(!1),console.log(JSON.stringify(e.data)),h(e.data)})).catch((function(e){console.log(e)}))}),[a]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ue.a,{children:Object(W.jsx)("title",{children:"Site"})}),Object(W.jsx)(k.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(W.jsx)(pe.a,{maxWidth:!1,children:Object(W.jsx)(ye.a,{container:!0,spacing:3,children:Object(W.jsx)(ye.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(W.jsxs)(Se.a,{children:[Object(W.jsx)(ke.a,{title:""}),Object(W.jsxs)(ht.a,{children:[Object(W.jsxs)(Ue.a,{className:t.pageContent,children:[Object(W.jsxs)(S.a,{className:t.seachToolbar,children:[Object(W.jsx)(k.a,{display:"flex",flexGrow:1,children:Object(W.jsx)(Ye.Input,{label:"Search",className:t.searchInput,InputProps:{startAdornment:Object(W.jsx)(_e.a,{position:"start",children:Object(W.jsx)(at.a,{})})},onChange:function(e){var t=e.target;T({fn:function(e){return""!=t.value&&t.value?e.filter((function(e){return e.siteCode.toLowerCase().includes(t.value.toLowerCase())||e.siteName.toLowerCase().includes(t.value.toLowerCase())})):e}})}})}),Object(W.jsx)(Ye.Button,{text:"",variant:"outlined",startIcon:Object(W.jsx)(rt.a,{}),onClick:function(){E("add",null)}})]}),Object(W.jsxs)(A,{children:[Object(W.jsx)(B,{}),Object(W.jsx)(Ve.a,{children:z().map((function(e){return Object(W.jsxs)(Ke.a,{children:[Object(W.jsx)($e.a,{children:e.siteCode}),Object(W.jsx)($e.a,{children:e.siteName}),Object(W.jsx)($e.a,{children:e.displayName}),Object(W.jsx)($e.a,{children:e.isActive.toString()}),Object(W.jsx)($e.a,{children:mt()(e.creationTime).format("DD/MM/YYYY")}),Object(W.jsxs)($e.a,{children:[Object(W.jsx)(Ye.ActionButton,{color:"primary",onClick:function(){E("edit",e)},children:Object(W.jsx)(pt.a,{fontSize:"small"})}),Object(W.jsx)(Ye.ActionButton,{color:"secondary",children:Object(W.jsx)(dt.a,{fontSize:"small"})})]})]},e.id)}))})]}),Object(W.jsx)(L,{})]}),Object(W.jsx)(bt,{title:"edit"===j?"Edit Site":"Add Site",openPopup:N,setOpenPopup:P})]})]})})})})})]})}var At=Object(d.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"85%"}}})),Bt=[{id:"transporterCode",label:"Transporter code"},{id:"transporterName",label:"Transporter Name"},{id:"displayName",label:"Display Name"},{id:"transporterDeliveryTime",label:"Delivery Time"},{id:"isActive",label:"Active"},{id:"creationTime",label:"Created On"}];function Lt(e){var t=At(),n=e.token,a=(e.setToken,e.company),i=(e.setCompany,Object(c.useState)(null)),r=Object(m.a)(i,2),s=(r[0],r[1]),l=Object(c.useState)("add"),d=Object(m.a)(l,2),j=d[0],b=d[1],u=Object(c.useState)([]),p=Object(m.a)(u,2),x=p[0],h=p[1],O=Object(c.useState)(!0),f=Object(m.a)(O,2),g=(f[0],f[1]),v=Object(c.useState)({fn:function(e){return e}}),C=Object(m.a)(v,2),y=C[0],T=C[1],I=Object(c.useState)(!1),w=Object(m.a)(I,2),N=w[0],P=w[1],D=nt(x,Bt,y),A=D.TblContainer,B=D.TblHead,L=D.TblPagination,z=D.recordsAfterPagingAndSorting,E=function(e,t){b(e),s(t),P(!0)};return o.a.useEffect((function(){g(!0),M.a.get("api/Definition/GetAllTransportersByCompany/?cmpID=".concat(a.companyId),{headers:{Authorization:"Bearer ".concat(n.jwtToken)}}).then((function(e){g(!1),console.log(JSON.stringify(e.data)),h(e.data)})).catch((function(e){console.log(e)}))}),[a]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ue.a,{children:Object(W.jsx)("title",{children:"Transporter"})}),Object(W.jsx)(k.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(W.jsx)(pe.a,{maxWidth:!1,children:Object(W.jsx)(ye.a,{container:!0,spacing:3,children:Object(W.jsx)(ye.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(W.jsxs)(Se.a,{children:[Object(W.jsx)(ke.a,{title:""}),Object(W.jsxs)(ht.a,{children:[Object(W.jsxs)(Ue.a,{className:t.pageContent,children:[Object(W.jsxs)(S.a,{className:t.seachToolbar,children:[Object(W.jsx)(k.a,{display:"flex",flexGrow:1,children:Object(W.jsx)(Ye.Input,{label:"Search",className:t.searchInput,InputProps:{startAdornment:Object(W.jsx)(_e.a,{position:"start",children:Object(W.jsx)(at.a,{})})},onChange:function(e){var t=e.target;T({fn:function(e){return""!=t.value&&t.value?e.filter((function(e){return e.transporterCode.toLowerCase().includes(t.value.toLowerCase())||e.transporterName.toLowerCase().includes(t.value.toLowerCase())})):e}})}})}),Object(W.jsx)(Ye.Button,{text:"",variant:"outlined",startIcon:Object(W.jsx)(rt.a,{}),onClick:function(){E("add",null)}})]}),Object(W.jsxs)(A,{children:[Object(W.jsx)(B,{}),Object(W.jsx)(Ve.a,{children:z().map((function(e){return Object(W.jsxs)(Ke.a,{children:[Object(W.jsx)($e.a,{children:e.transporterCode}),Object(W.jsx)($e.a,{children:e.transporterName}),Object(W.jsx)($e.a,{children:e.displayName}),Object(W.jsx)($e.a,{children:e.transporterDeliveryTime.toString()}),Object(W.jsx)($e.a,{children:e.isActive.toString()}),Object(W.jsx)($e.a,{children:mt()(e.creationTime).format("DD/MM/YYYY")}),Object(W.jsxs)($e.a,{children:[Object(W.jsx)(Ye.ActionButton,{color:"primary",onClick:function(){E("edit",e)},children:Object(W.jsx)(pt.a,{fontSize:"small"})}),Object(W.jsx)(Ye.ActionButton,{color:"secondary",children:Object(W.jsx)(dt.a,{fontSize:"small"})})]})]},e.id)}))})]}),Object(W.jsx)(L,{})]}),Object(W.jsx)(bt,{title:"edit"===j?"Edit Transporter":"Add Transporter",openPopup:N,setOpenPopup:P})]})]})})})})})]})}var zt=Object(d.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"85%"}}})),Mt=[{id:"supplierCode",label:"Supplier code"},{id:"supplierName",label:"Supplier Name"},{id:"displayName",label:"Display Name"},{id:"supplierTypeId",label:"Supplier Type"},{id:"isActive",label:"Active"},{id:"creationTime",label:"Created On"}];function Wt(e){var t=zt(),n=e.token,a=(e.setToken,e.company),i=(e.setCompany,Object(c.useState)(null)),r=Object(m.a)(i,2),s=(r[0],r[1]),l=Object(c.useState)("add"),d=Object(m.a)(l,2),j=d[0],b=d[1],u=Object(c.useState)([]),p=Object(m.a)(u,2),x=p[0],h=p[1],O=Object(c.useState)(!0),f=Object(m.a)(O,2),g=(f[0],f[1]),v=Object(c.useState)({fn:function(e){return e}}),C=Object(m.a)(v,2),y=C[0],T=C[1],I=Object(c.useState)(!1),w=Object(m.a)(I,2),N=w[0],P=w[1],D=nt(x,Mt,y),A=D.TblContainer,B=D.TblHead,L=D.TblPagination,z=D.recordsAfterPagingAndSorting,E=function(e,t){b(e),s(t),P(!0)};return o.a.useEffect((function(){g(!0),M.a.get("api/Definition/GetAllSuppliersByCompany/?cmpID=".concat(a.companyId),{headers:{Authorization:"Bearer ".concat(n.jwtToken)}}).then((function(e){g(!1),console.log(JSON.stringify(e.data)),h(e.data)})).catch((function(e){console.log(e)}))}),[a]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ue.a,{children:Object(W.jsx)("title",{children:"Supplier"})}),Object(W.jsx)(k.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(W.jsx)(pe.a,{maxWidth:!1,children:Object(W.jsx)(ye.a,{container:!0,spacing:3,children:Object(W.jsx)(ye.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(W.jsxs)(Se.a,{children:[Object(W.jsx)(ke.a,{title:""}),Object(W.jsxs)(ht.a,{children:[Object(W.jsxs)(Ue.a,{className:t.pageContent,children:[Object(W.jsxs)(S.a,{className:t.seachToolbar,children:[Object(W.jsx)(k.a,{display:"flex",flexGrow:1,children:Object(W.jsx)(Ye.Input,{label:"Search",className:t.searchInput,InputProps:{startAdornment:Object(W.jsx)(_e.a,{position:"start",children:Object(W.jsx)(at.a,{})})},onChange:function(e){var t=e.target;T({fn:function(e){return""!=t.value&&t.value?e.filter((function(e){return e.supplierCode.toLowerCase().includes(t.value.toLowerCase())||e.supplierName.toLowerCase().includes(t.value.toLowerCase())})):e}})}})}),Object(W.jsx)(Ye.Button,{text:"",variant:"outlined",startIcon:Object(W.jsx)(rt.a,{}),onClick:function(){E("add",null)}})]}),Object(W.jsxs)(A,{children:[Object(W.jsx)(B,{}),Object(W.jsx)(Ve.a,{children:z().map((function(e){return Object(W.jsxs)(Ke.a,{children:[Object(W.jsx)($e.a,{children:e.supplierCode}),Object(W.jsx)($e.a,{children:e.supplierName}),Object(W.jsx)($e.a,{children:e.displayName}),Object(W.jsx)($e.a,{children:"Jeans"}),Object(W.jsx)($e.a,{children:e.isActive.toString()}),Object(W.jsx)($e.a,{children:mt()(e.creationTime).format("DD/MM/YYYY")}),Object(W.jsxs)($e.a,{children:[Object(W.jsx)(Ye.ActionButton,{color:"primary",onClick:function(){E("edit",e)},children:Object(W.jsx)(pt.a,{fontSize:"small"})}),Object(W.jsx)(Ye.ActionButton,{color:"secondary",children:Object(W.jsx)(dt.a,{fontSize:"small"})})]})]},e.id)}))})]}),Object(W.jsx)(L,{})]}),Object(W.jsx)(bt,{title:"edit"===j?"Edit Supplier":"Add Supplier",openPopup:N,setOpenPopup:P})]})]})})})})})]})}var Et=function(e){var t=e.setToken,n=e.setCompany;return Object(c.useEffect)((function(){t(null),n(null)}),[]),null},Rt=function(e,t,n,a){return console.log("AppRoutes ==> token: "+e),[{path:"/",element:Object(W.jsx)(je,{token:e,setToken:t,company:n,setCompany:a}),children:[{path:"dashboard",element:e?Object(W.jsx)(he,{token:e,setToken:t,company:n,setCompany:a}):Object(W.jsx)(s.a,{to:"/login"})},{path:"invoices",element:e?Object(W.jsx)(vt,{token:e,setToken:t,company:n,setCompany:a}):Object(W.jsx)(s.a,{to:"/login"})},{path:"branch",element:e?Object(W.jsx)(wt,{token:e,setToken:t,company:n,setCompany:a}):Object(W.jsx)(s.a,{to:"/login"})},{path:"site",element:e?Object(W.jsx)(Dt,{token:e,setToken:t,company:n,setCompany:a}):Object(W.jsx)(s.a,{to:"/login"})},{path:"transporter",element:e?Object(W.jsx)(Lt,{token:e,setToken:t,company:n,setCompany:a}):Object(W.jsx)(s.a,{to:"/login"})},{path:"supplier",element:e?Object(W.jsx)(Wt,{token:e,setToken:t,company:n,setCompany:a}):Object(W.jsx)(s.a,{to:"/login"})},{path:"login",element:e?Object(W.jsx)(s.a,{to:"/dashboard"}):Object(W.jsx)(ve,{setToken:t,setCompany:a})},{path:"logout",element:e?Object(W.jsx)(Et,{setToken:t,setCompany:a}):Object(W.jsx)(s.a,{to:"/login"})},{path:"*",element:e?Object(W.jsx)(Ce,{token:e,setToken:t,company:n,setCompany:a}):Object(W.jsx)(Ce,{})}]}]};var Ft=function(){var e=function(){var e=Object(c.useState)(function(){var e=localStorage.getItem("token");return e?JSON.parse(e):e}()),t=Object(m.a)(e,2),n=t[0],a=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),a(e)},token:n}}(),t=e.token,n=e.setToken,a=function(){var e=Object(c.useState)(function(){var e=localStorage.getItem("company");return e?JSON.parse(e):e}()),t=Object(m.a)(e,2),n=t[0],a=t[1];return{setCompany:function(e){localStorage.setItem("company",JSON.stringify(e)),a(e)},company:n}}(),i=a.company,r=a.setCompany;console.log("App ==> token: "+t);var o=Object(s.j)(Rt(t,n,i,r));return Object(W.jsxs)(l.a,{theme:O,children:[Object(W.jsx)(u,{}),o]})};M.a.defaults.baseURL="http://test.picktech.in/",i.a.render(Object(W.jsx)(r.a,{children:Object(W.jsx)(Ft,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[495,1,2]]]);
//# sourceMappingURL=main.d3e5e22a.chunk.js.map